<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:o="http://omnifaces.org/ui"
    template="/WEB-INF/template.xhtml">
	<ui:define name="content">
		<div class="ContainerIndent">
			 
			 <h:form id="frm">
			<p:messages />
			
			<p:panelGrid columns="2">
				<p:outputLabel value="Cliente" for="pessoa" />
				<h:panelGroup>
					
					<p:inputText id="pessoa" value="#{clienteCadastro.pessoa.nome}"
						readonly="#{facesContext.currentPhaseId.name eq 'RENDER_RESPONSE'}" />
					
					<p:commandButton icon="ui-icon-search" title="Pesquisa"
						action="#{clienteSelecao.abrirDialogo}"
						process="@this" update="@none">
						<p:ajax event="dialogReturn" listener="#{clienteCadastro.clienteSelecionado}"
							process="@this" update="pessoa" />
						<p:resetInput target="pessoa" />
					</p:commandButton>
				</h:panelGroup>
				
				
				<p:outputLabel value="Descrição" for="descricao" />
				<p:inputTextarea id="descricao" cols="50" rows="4" 
					value="#{clienteCadastro.pessoa.nome}"/>
				
				<p:outputLabel/>
				<p:commandButton value="Salvar" action="#{clienteCadastro.grava}"
					process="@form" update="@form" />
			</p:panelGrid>
		
		</h:form>
			 
		</div>
	</ui:define>
</ui:composition>